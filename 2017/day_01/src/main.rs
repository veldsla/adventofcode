const INPUT: &'static str = "6497139596828982595777779823495157848226849399661913591643699334353664\
318477544886619653635579851662193587147393183713823882961511953615712161319251584924414618446873249\
233153813583315715776137896491664861522379459179879777938917398651497347559932413618863369265384822\
711247553595727914513358425348931926935586599911719838492854891394214259336386148844158969389149927\
324921924586364845232282445323315875847795527885446672535773246499152741159246117583456761834439829\
927339663734983856859657689292414779837279212798267279768725563154284347991617597349326598299345623\
393853281196568234839548564273658926277281635247214679384499433581926322623548545936358315593522474\
439759451441631835637235628913578593679641262894459821355235359231135893164176234836316375692919417\
829922138895137145253424685633493852718842216855499965343337657312438956626248299249829716854438253\
668279235894352545142114896494823748764345496827854596988855216732589394132551581965256962364579114\
475999474496655425542514868473888235769371672374765567821332272793245268349465344447181615241292859\
194779599376847288825927799417341861441388839943227424848539253835186516871472469434213112873248676\
636984325466195836389766377333452518348699857463853716177434986271114419335463569346716395453425153\
925365747447957322436171135746412842319284893126836171545366482192449964917457186581516482467918264\
669736547652842639288841378636476232373458824691429331426375836442584274169725952417372544497185317\
241765386483692537966889312451913829569615447758568722813177438285526298435518449279131475183773622\
665543343867213132442232333964532912249324992779615257857558638524871419466266638351952867629471723\
841866674395163672193918237743386921519264727173732356129118487733877712441449691494824775194378228\
634226621574619684442819723531496955154949925379274921113881938375538446717192914824423377613212723\
339829242893234372772245651499284162554358413277561391181197445289932691571744142643875733311163239\
826148629522645976118859992859955163575196486955942996573876147933416263188665191445745718165353511\
49394735916975448425618171572917195165594323552199346814729617189679698944337146";

fn captcha(s: &str, skip: usize) -> u32 {
    s.chars()
        .zip(s.chars().skip(skip).chain(s.chars()))
        .filter(|e| e.0 == e.1)
        .map(|e| e.0.to_digit(10).unwrap())
        .sum()
}

fn main() {
    println!("Capcha 1 sums to: {}", captcha(INPUT, 1));
    println!("Capcha 2 sums to: {}", captcha(INPUT, INPUT.len() as usize / 2));
}


#[test]
fn test_1() {
    assert_eq!(captcha("1122", 1), 3);
    assert_eq!(captcha("1111", 1), 4);
    assert_eq!(captcha("1234", 1), 0);
    assert_eq!(captcha("91212129", 1), 9);
}

#[test]
fn test_2() {
    assert_eq!(captcha("1212", 2), 6);
    assert_eq!(captcha("1221", 2), 0);
    assert_eq!(captcha("123425", 3), 4);
    assert_eq!(captcha("123123", 3), 12);
    assert_eq!(captcha("12131415", 4), 4);
}

